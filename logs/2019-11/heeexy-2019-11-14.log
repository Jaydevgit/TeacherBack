2019-11-14 01:01:49.434 WARN  --- [HikariPool.java:766][HikariPool-1 housekeeper] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2h27s167ms).
2019-11-14 01:16:52.496 WARN  --- [HikariPool.java:766][HikariPool-1 housekeeper] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m2s990ms).
2019-11-14 03:17:18.384 WARN  --- [HikariPool.java:766][HikariPool-1 housekeeper] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h59m54s463ms).
2019-11-14 07:17:43.354 WARN  --- [HikariPool.java:766][HikariPool-1 housekeeper] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4h24s934ms).
2019-11-14 08:30:10.467 WARN  --- [HikariPool.java:766][HikariPool-1 housekeeper] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1h12m27s150ms).
2019-11-14 08:50:42.112 WARN  --- [HikariPool.java:766][HikariPool-1 housekeeper] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=20m31s645ms).
2019-11-14 09:11:13.020 WARN  --- [HikariPool.java:766][HikariPool-1 housekeeper] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=20m30s908ms).
2019-11-14 09:32:13.924 WARN  --- [HikariPool.java:766][HikariPool-1 housekeeper] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=20m30s892ms).
2019-11-14 09:37:27.154 WARN  --- [HikariPool.java:766][HikariPool-1 housekeeper] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=5m13s230ms).
2019-11-14 09:44:41.073 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==>  Preparing: SELECT u.school_name schoolName, u.unit_name unitName, u.school_eng schoolEng, u.unit_eng unitEng, u.college_url collegeUrl, u.logo_url logoUrl, u.state state, u.background_url backgroundUrl FROM school_unit u WHERE u.id = ? 
2019-11-14 09:44:41.075 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==> Parameters: null
2019-11-14 09:44:41.269 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - <==      Total: 0
2019-11-14 09:44:42.748 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==>  Preparing: SELECT u.school_name schoolName, u.unit_name unitName, u.school_eng schoolEng, u.unit_eng unitEng, u.college_url collegeUrl, u.logo_url logoUrl, u.state state, u.background_url backgroundUrl FROM school_unit u WHERE u.id = ? 
2019-11-14 09:44:42.749 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==> Parameters: null
2019-11-14 09:44:42.792 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - <==      Total: 0
2019-11-14 09:44:45.950 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==>  Preparing: SELECT u.user_id userId, u.username username, u.password password, u.role role FROM login u WHERE u.username = ? AND u.password = ? AND u.state = '1' AND u.role = ? 
2019-11-14 09:44:45.952 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==> Parameters: scnu(String), 1cd61bb103149a08c529c96a31effae2(String), unit(String)
2019-11-14 09:44:45.999 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - <==      Total: 1
2019-11-14 09:44:46.036 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==>  Preparing: SELECT k.id userId, k.nickname nickname, k.username username, k.role_id roleId, k.unit_id unitId, k.role_name roleName, p.menu_code menuCode, p.permission_code permissionCode FROM(select a.*,substring_index(substring_index(a.permission_ids,',',b.help_topic_id+1),',',-1) pId from (SELECT t.*,sys_role.role_name,sys_role.permission_ids FROM(SELECT u.id, u.nickname, u.username, u.role_id, u.unit_id FROM unit_profile u WHERE u.username = ? AND u.state = '1')t LEFT JOIN sys_role ON t.role_id = sys_role.id) a join mysql.help_topic b on b.help_topic_id < (length(a.permission_ids) - length(replace(a.permission_ids,',',''))+1)) k LEFT JOIN sys_permission p ON k.pId = p.id 
2019-11-14 09:44:46.037 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==> Parameters: scnu(String)
2019-11-14 09:44:46.087 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - <==      Total: 11
2019-11-14 09:44:46.322 INFO  --- [UserRealm.java:50][http-nio-8080-exec-4] - permission的值为:{"menuList":["teacher","role","user"],"roleId":1,"nickname":"asd","roleName":"高级管理员","unitId":1,"permissionList":["user:list","user:add","role:update","teacher:list","teacher:update","role:list","teacher:add","user:update","role:delete","role:add","teacher:delete"],"userId":1,"username":"scnu"}
2019-11-14 09:44:46.323 INFO  --- [UserRealm.java:51][http-nio-8080-exec-4] - 本用户权限为:[user:list, user:add, role:update, teacher:list, teacher:update, role:list, teacher:add, user:update, role:delete, role:add, teacher:delete]
2019-11-14 09:44:46.325 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: SELECT count(0) FROM teacher_profile t WHERE t.state = '1' AND t.unit_id = ? 
2019-11-14 09:44:46.326 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: 1(Long)
2019-11-14 09:44:46.368 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 1
2019-11-14 09:44:46.369 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: select t.id id, t.username name, t.email email, t.avatar avatar, t.state state, t.views views, t.post post, t.scholat_username scholat_username, date_format(t.update_time, '%Y.%m.%d %T') update_time, date_format(t.create_time, '%Y.%m.%d %T') create_time FROM teacher_profile t WHERE t.unit_id = ? ORDER BY update_time desc LIMIT ?,? 
2019-11-14 09:44:46.369 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: 1(Long), 0(Integer), 10(Integer)
2019-11-14 09:44:46.371 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 10
2019-11-14 09:44:49.185 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==>  Preparing: SELECT k.id userId, k.nickname nickname, k.username username, k.role_id roleId, k.unit_id unitId, k.role_name roleName, p.menu_code menuCode, p.permission_code permissionCode FROM(select a.*,substring_index(substring_index(a.permission_ids,',',b.help_topic_id+1),',',-1) pId from (SELECT t.*,sys_role.role_name,sys_role.permission_ids FROM(SELECT u.id, u.nickname, u.username, u.role_id, u.unit_id FROM unit_profile u WHERE u.username = ? AND u.state = '1')t LEFT JOIN sys_role ON t.role_id = sys_role.id) a join mysql.help_topic b on b.help_topic_id < (length(a.permission_ids) - length(replace(a.permission_ids,',',''))+1)) k LEFT JOIN sys_permission p ON k.pId = p.id 
2019-11-14 09:44:49.186 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==> Parameters: scnu(String)
2019-11-14 09:44:49.189 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - <==      Total: 11
2019-11-14 09:44:49.312 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==>  Preparing: SELECT u.school_name schoolName, u.unit_name unitName, u.school_eng schoolEng, u.unit_eng unitEng, u.college_url collegeUrl, u.logo_url logoUrl, u.state state, u.background_url backgroundUrl FROM school_unit u WHERE u.id = (SELECT t.unit_id FROM teacher_profile t WHERE t.id = ?) 
2019-11-14 09:44:49.313 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==> Parameters: 141(String)
2019-11-14 09:44:49.324 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - <==      Total: 1
2019-11-14 09:44:49.324 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: select * from teacher_profile u where u.id=? 
2019-11-14 09:44:49.325 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: 141(Long)
2019-11-14 09:44:49.369 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 1
2019-11-14 09:44:49.609 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==>  Preparing: SELECT count(0) FROM teacher_profile t WHERE t.state = '1' AND t.unit_id = ? 
2019-11-14 09:44:49.610 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==> Parameters: 1(Long)
2019-11-14 09:44:49.610 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - <==      Total: 1
2019-11-14 09:44:49.611 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==>  Preparing: SELECT t.id tId, t.username tName, t.post tPost, t.avatar tAvatar, t.email tEmail, t.department_name tDepartment_name, t.work_place tWork_place, t.degree tDegree FROM teacher_profile t WHERE t.state = '1' AND t.unit_id = ? ORDER BY t.seq, update_time DESC LIMIT ?,? 
2019-11-14 09:44:49.611 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==> Parameters: 1(Long), 0(Integer), 15(Integer)
2019-11-14 09:44:49.613 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - <==      Total: 15
2019-11-14 09:44:52.013 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==>  Preparing: select * from user_profile u where u.acc_name = ? 
2019-11-14 09:44:52.014 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==> Parameters: ytang(String)
2019-11-14 09:44:52.070 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - <==      Total: 1
2019-11-14 09:44:56.994 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 09:44:56.994 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==> Parameters: ytang(String)
2019-11-14 09:44:57.001 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - <==      Total: 1
2019-11-14 09:44:57.002 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 09:44:57.003 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 09:44:57.652 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - <==      Total: 1082
2019-11-14 09:44:57.653 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 09:44:57.653 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 09:44:57.738 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - <==      Total: 1743
2019-11-14 09:44:57.738 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 09:44:57.739 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 09:44:57.757 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - <==      Total: 1119
2019-11-14 09:44:59.948 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 09:44:59.949 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==> Parameters: ytang(String)
2019-11-14 09:44:59.950 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - <==      Total: 1
2019-11-14 09:44:59.950 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==>  Preparing: select * from scholar_paper where acc_id = ? 
2019-11-14 09:44:59.950 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==> Parameters: 17(Long)
2019-11-14 09:45:00.014 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - <==      Total: 412
2019-11-14 09:45:01.257 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 09:45:01.258 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==> Parameters: ytang(String)
2019-11-14 09:45:01.259 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - <==      Total: 1
2019-11-14 09:45:01.259 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 09:45:01.260 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 09:45:01.278 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - <==      Total: 1082
2019-11-14 09:45:01.279 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 09:45:01.279 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 09:45:01.308 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - <==      Total: 1743
2019-11-14 09:45:01.309 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 09:45:01.309 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 09:45:01.336 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - <==      Total: 1119
2019-11-14 09:45:03.247 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==>  Preparing: select * from user_profile u where u.acc_name = ? 
2019-11-14 09:45:03.248 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==> Parameters: ytang(String)
2019-11-14 09:45:03.253 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - <==      Total: 1
2019-11-14 09:45:29.655 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 09:45:29.655 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: ytang(String)
2019-11-14 09:45:29.656 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 1
2019-11-14 09:45:29.657 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 09:45:29.657 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 09:45:29.675 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 1082
2019-11-14 09:45:29.675 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 09:45:29.676 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 09:45:29.701 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 1743
2019-11-14 09:45:29.702 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 09:45:29.702 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 09:45:29.720 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 1119
2019-11-14 09:48:27.424 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 09:48:27.424 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==> Parameters: ytang(String)
2019-11-14 09:48:27.425 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - <==      Total: 1
2019-11-14 09:48:27.426 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 09:48:27.426 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 09:48:27.455 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - <==      Total: 1082
2019-11-14 09:48:27.456 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 09:48:27.460 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 09:48:27.603 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - <==      Total: 1743
2019-11-14 09:48:27.604 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 09:48:27.604 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 09:48:27.632 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - <==      Total: 1119
2019-11-14 09:49:35.896 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 09:49:35.897 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==> Parameters: ytang(String)
2019-11-14 09:49:35.898 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - <==      Total: 1
2019-11-14 09:49:35.899 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 09:49:35.899 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 09:49:35.926 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - <==      Total: 1082
2019-11-14 09:49:35.927 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 09:49:35.928 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 09:49:36.118 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - <==      Total: 1743
2019-11-14 09:49:36.119 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 09:49:36.119 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 09:49:36.145 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - <==      Total: 1119
2019-11-14 09:49:48.142 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 09:49:48.142 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: ytang(String)
2019-11-14 09:49:48.144 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 1
2019-11-14 09:49:48.145 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 09:49:48.146 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 09:49:48.171 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 1082
2019-11-14 09:49:48.172 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 09:49:48.172 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 09:49:48.207 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 1743
2019-11-14 09:49:48.208 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 09:49:48.208 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 09:49:48.227 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 1119
2019-11-14 09:50:02.349 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==>  Preparing: SELECT k.id userId, k.nickname nickname, k.username username, k.role_id roleId, k.unit_id unitId, k.role_name roleName, p.menu_code menuCode, p.permission_code permissionCode FROM(select a.*,substring_index(substring_index(a.permission_ids,',',b.help_topic_id+1),',',-1) pId from (SELECT t.*,sys_role.role_name,sys_role.permission_ids FROM(SELECT u.id, u.nickname, u.username, u.role_id, u.unit_id FROM unit_profile u WHERE u.username = ? AND u.state = '1')t LEFT JOIN sys_role ON t.role_id = sys_role.id) a join mysql.help_topic b on b.help_topic_id < (length(a.permission_ids) - length(replace(a.permission_ids,',',''))+1)) k LEFT JOIN sys_permission p ON k.pId = p.id 
2019-11-14 09:50:02.350 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==> Parameters: scnu(String)
2019-11-14 09:50:02.351 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - <==      Total: 11
2019-11-14 09:50:02.596 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==>  Preparing: select * from user_profile u where u.acc_name = ? 
2019-11-14 09:50:02.596 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==> Parameters: ytang(String)
2019-11-14 09:50:02.617 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - <==      Total: 1
2019-11-14 09:50:06.465 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 09:50:06.466 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==> Parameters: ytang(String)
2019-11-14 09:50:06.476 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - <==      Total: 1
2019-11-14 09:50:06.477 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 09:50:06.478 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 09:50:06.534 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - <==      Total: 1082
2019-11-14 09:50:06.535 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 09:50:06.536 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 09:50:06.585 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - <==      Total: 1743
2019-11-14 09:50:06.586 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 09:50:06.586 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 09:50:06.623 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - <==      Total: 1119
2019-11-14 09:51:05.637 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 09:51:05.638 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==> Parameters: ytang(String)
2019-11-14 09:51:05.638 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - <==      Total: 1
2019-11-14 09:51:05.639 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==>  Preparing: select * from scholar_paper where acc_id = ? 
2019-11-14 09:51:05.639 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==> Parameters: 17(Long)
2019-11-14 09:51:05.654 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - <==      Total: 412
2019-11-14 09:51:09.920 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 09:51:09.921 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==> Parameters: ytang(String)
2019-11-14 09:51:09.922 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - <==      Total: 1
2019-11-14 09:51:09.923 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 09:51:09.924 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 09:51:09.969 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - <==      Total: 1082
2019-11-14 09:51:09.971 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 09:51:09.972 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 09:51:10.064 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - <==      Total: 1743
2019-11-14 09:51:10.065 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 09:51:10.065 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 09:51:10.086 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - <==      Total: 1119
2019-11-14 09:51:10.573 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 09:51:10.574 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==> Parameters: ytang(String)
2019-11-14 09:51:10.575 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - <==      Total: 1
2019-11-14 09:51:10.576 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==>  Preparing: select * from scholar_paper where acc_id = ? 
2019-11-14 09:51:10.576 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==> Parameters: 17(Long)
2019-11-14 09:51:10.594 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - <==      Total: 412
2019-11-14 09:56:21.916 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: select * from user_profile u where u.acc_name = ? 
2019-11-14 09:56:21.916 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: ytang(String)
2019-11-14 09:56:21.921 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 1
2019-11-14 09:56:39.679 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 09:56:39.679 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==> Parameters: ytang(String)
2019-11-14 09:56:39.680 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - <==      Total: 1
2019-11-14 09:56:39.681 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==>  Preparing: select * from scholar_paper where acc_id = ? 
2019-11-14 09:56:39.681 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==> Parameters: 17(Long)
2019-11-14 09:56:39.697 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - <==      Total: 412
2019-11-14 10:11:09.548 INFO  --- [UserRealm.java:50][http-nio-8080-exec-7] - permission的值为:{"menuList":["teacher","role","user"],"roleId":1,"nickname":"asd","roleName":"高级管理员","unitId":1,"permissionList":["user:list","user:add","role:update","teacher:list","teacher:update","role:list","teacher:add","user:update","role:delete","role:add","teacher:delete"],"userId":1,"username":"scnu"}
2019-11-14 10:11:09.549 INFO  --- [UserRealm.java:51][http-nio-8080-exec-7] - 本用户权限为:[user:list, user:add, role:update, teacher:list, teacher:update, role:list, teacher:add, user:update, role:delete, role:add, teacher:delete]
2019-11-14 10:11:09.552 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==>  Preparing: SELECT count(0) FROM teacher_profile t WHERE t.state = '1' AND t.unit_id = ? 
2019-11-14 10:11:09.552 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==> Parameters: 1(Long)
2019-11-14 10:11:09.554 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - <==      Total: 1
2019-11-14 10:11:09.554 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==>  Preparing: select t.id id, t.username name, t.email email, t.avatar avatar, t.state state, t.views views, t.post post, t.scholat_username scholat_username, date_format(t.update_time, '%Y.%m.%d %T') update_time, date_format(t.create_time, '%Y.%m.%d %T') create_time FROM teacher_profile t WHERE t.unit_id = ? ORDER BY update_time desc LIMIT ?,? 
2019-11-14 10:11:09.556 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==> Parameters: 1(Long), 0(Integer), 10(Integer)
2019-11-14 10:11:09.557 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - <==      Total: 10
2019-11-14 10:11:09.706 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: select * from user_profile u where u.acc_name = ? 
2019-11-14 10:11:09.707 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: ytang(String)
2019-11-14 10:11:09.782 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 1
2019-11-14 10:11:09.879 INFO  --- [UserRealm.java:50][http-nio-8080-exec-8] - permission的值为:{"menuList":["teacher","role","user"],"roleId":1,"nickname":"asd","roleName":"高级管理员","unitId":1,"permissionList":["user:list","user:add","role:update","teacher:list","teacher:update","role:list","teacher:add","user:update","role:delete","role:add","teacher:delete"],"userId":1,"username":"scnu"}
2019-11-14 10:11:09.879 INFO  --- [UserRealm.java:51][http-nio-8080-exec-8] - 本用户权限为:[user:list, user:add, role:update, teacher:list, teacher:update, role:list, teacher:add, user:update, role:delete, role:add, teacher:delete]
2019-11-14 10:11:09.880 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==>  Preparing: SELECT count(0) FROM teacher_profile t WHERE t.state = '1' AND t.unit_id = ? 
2019-11-14 10:11:09.880 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==> Parameters: 1(Long)
2019-11-14 10:11:09.881 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - <==      Total: 1
2019-11-14 10:11:09.882 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==>  Preparing: select t.id id, t.username name, t.email email, t.avatar avatar, t.state state, t.views views, t.post post, t.scholat_username scholat_username, date_format(t.update_time, '%Y.%m.%d %T') update_time, date_format(t.create_time, '%Y.%m.%d %T') create_time FROM teacher_profile t WHERE t.unit_id = ? ORDER BY update_time desc LIMIT ?,? 
2019-11-14 10:11:09.883 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==> Parameters: 1(Long), 0(Integer), 10(Integer)
2019-11-14 10:11:09.885 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - <==      Total: 10
2019-11-14 10:11:16.878 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 10:11:16.878 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==> Parameters: ytang(String)
2019-11-14 10:11:16.879 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - <==      Total: 1
2019-11-14 10:11:16.879 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==>  Preparing: select * from scholar_paper where acc_id = ? 
2019-11-14 10:11:16.880 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==> Parameters: 17(Long)
2019-11-14 10:11:16.938 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - <==      Total: 412
2019-11-14 10:15:09.597 INFO  --- [UserRealm.java:50][http-nio-8080-exec-10] - permission的值为:{"menuList":["teacher","role","user"],"roleId":1,"nickname":"asd","roleName":"高级管理员","unitId":1,"permissionList":["user:list","user:add","role:update","teacher:list","teacher:update","role:list","teacher:add","user:update","role:delete","role:add","teacher:delete"],"userId":1,"username":"scnu"}
2019-11-14 10:15:09.597 INFO  --- [UserRealm.java:51][http-nio-8080-exec-10] - 本用户权限为:[user:list, user:add, role:update, teacher:list, teacher:update, role:list, teacher:add, user:update, role:delete, role:add, teacher:delete]
2019-11-14 10:15:09.599 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==>  Preparing: SELECT count(0) FROM teacher_profile t WHERE t.state = '1' AND t.unit_id = ? 
2019-11-14 10:15:09.599 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==> Parameters: 1(Long)
2019-11-14 10:15:09.601 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - <==      Total: 1
2019-11-14 10:15:09.602 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==>  Preparing: select t.id id, t.username name, t.email email, t.avatar avatar, t.state state, t.views views, t.post post, t.scholat_username scholat_username, date_format(t.update_time, '%Y.%m.%d %T') update_time, date_format(t.create_time, '%Y.%m.%d %T') create_time FROM teacher_profile t WHERE t.unit_id = ? ORDER BY update_time desc LIMIT ?,? 
2019-11-14 10:15:09.602 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==> Parameters: 1(Long), 0(Integer), 10(Integer)
2019-11-14 10:15:09.604 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - <==      Total: 10
2019-11-14 10:15:09.880 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==>  Preparing: select * from user_profile u where u.acc_name = ? 
2019-11-14 10:15:09.881 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==> Parameters: ytang(String)
2019-11-14 10:15:09.892 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - <==      Total: 1
2019-11-14 10:15:10.218 INFO  --- [UserRealm.java:50][http-nio-8080-exec-3] - permission的值为:{"menuList":["teacher","role","user"],"roleId":1,"nickname":"asd","roleName":"高级管理员","unitId":1,"permissionList":["user:list","user:add","role:update","teacher:list","teacher:update","role:list","teacher:add","user:update","role:delete","role:add","teacher:delete"],"userId":1,"username":"scnu"}
2019-11-14 10:15:10.219 INFO  --- [UserRealm.java:51][http-nio-8080-exec-3] - 本用户权限为:[user:list, user:add, role:update, teacher:list, teacher:update, role:list, teacher:add, user:update, role:delete, role:add, teacher:delete]
2019-11-14 10:15:10.219 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==>  Preparing: SELECT count(0) FROM teacher_profile t WHERE t.state = '1' AND t.unit_id = ? 
2019-11-14 10:15:10.219 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==> Parameters: 1(Long)
2019-11-14 10:15:10.220 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - <==      Total: 1
2019-11-14 10:15:10.221 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==>  Preparing: select t.id id, t.username name, t.email email, t.avatar avatar, t.state state, t.views views, t.post post, t.scholat_username scholat_username, date_format(t.update_time, '%Y.%m.%d %T') update_time, date_format(t.create_time, '%Y.%m.%d %T') create_time FROM teacher_profile t WHERE t.unit_id = ? ORDER BY update_time desc LIMIT ?,? 
2019-11-14 10:15:10.221 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==> Parameters: 1(Long), 0(Integer), 10(Integer)
2019-11-14 10:15:10.222 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - <==      Total: 10
2019-11-14 10:15:20.503 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==>  Preparing: SELECT k.id userId, k.nickname nickname, k.username username, k.role_id roleId, k.unit_id unitId, k.role_name roleName, p.menu_code menuCode, p.permission_code permissionCode FROM(select a.*,substring_index(substring_index(a.permission_ids,',',b.help_topic_id+1),',',-1) pId from (SELECT t.*,sys_role.role_name,sys_role.permission_ids FROM(SELECT u.id, u.nickname, u.username, u.role_id, u.unit_id FROM unit_profile u WHERE u.username = ? AND u.state = '1')t LEFT JOIN sys_role ON t.role_id = sys_role.id) a join mysql.help_topic b on b.help_topic_id < (length(a.permission_ids) - length(replace(a.permission_ids,',',''))+1)) k LEFT JOIN sys_permission p ON k.pId = p.id 
2019-11-14 10:15:20.504 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==> Parameters: scnu(String)
2019-11-14 10:15:20.506 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - <==      Total: 11
2019-11-14 10:15:20.800 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: select * from user_profile u where u.acc_name = ? 
2019-11-14 10:15:20.801 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: ytang(String)
2019-11-14 10:15:20.827 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 1
2019-11-14 10:15:26.453 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 10:15:26.454 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==> Parameters: ytang(String)
2019-11-14 10:15:26.455 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - <==      Total: 1
2019-11-14 10:15:26.456 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 10:15:26.456 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 10:15:26.722 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - <==      Total: 1082
2019-11-14 10:15:26.723 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 10:15:26.724 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 10:15:26.819 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - <==      Total: 1743
2019-11-14 10:15:26.820 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 10:15:26.822 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 10:15:26.882 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - <==      Total: 1119
2019-11-14 10:15:34.158 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 10:15:34.158 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: ytang(String)
2019-11-14 10:15:34.160 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 1
2019-11-14 10:15:34.161 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: select * from scholar_paper where acc_id = ? 
2019-11-14 10:15:34.162 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: 17(Long)
2019-11-14 10:15:34.184 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 412
2019-11-14 10:18:39.496 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==>  Preparing: select * from user_profile u where u.acc_name = ? 
2019-11-14 10:18:39.496 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==> Parameters: ytang(String)
2019-11-14 10:18:39.503 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - <==      Total: 1
2019-11-14 10:18:41.785 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 10:18:41.786 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==> Parameters: ytang(String)
2019-11-14 10:18:41.789 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - <==      Total: 1
2019-11-14 10:18:41.789 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 10:18:41.790 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 10:18:41.908 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - <==      Total: 1082
2019-11-14 10:18:41.909 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 10:18:41.909 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 10:18:41.959 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - <==      Total: 1743
2019-11-14 10:18:41.960 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 10:18:41.961 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 10:18:42.032 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - <==      Total: 1119
2019-11-14 10:20:23.299 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 10:20:23.299 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==> Parameters: ytang(String)
2019-11-14 10:20:23.300 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - <==      Total: 1
2019-11-14 10:20:23.301 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 10:20:23.302 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 10:20:23.329 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - <==      Total: 1082
2019-11-14 10:20:23.330 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 10:20:23.330 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 10:20:23.368 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - <==      Total: 1743
2019-11-14 10:20:23.370 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 10:20:23.370 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 10:20:23.395 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - <==      Total: 1119
2019-11-14 10:22:11.531 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 10:22:11.532 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==> Parameters: ytang(String)
2019-11-14 10:22:11.536 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - <==      Total: 1
2019-11-14 10:22:11.537 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 10:22:11.537 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 10:22:11.647 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - <==      Total: 1082
2019-11-14 10:22:11.648 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 10:22:11.649 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 10:22:11.681 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - <==      Total: 1743
2019-11-14 10:22:11.681 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 10:22:11.682 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 10:22:11.699 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - <==      Total: 1119
2019-11-14 10:22:45.309 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 10:22:45.310 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==> Parameters: ytang(String)
2019-11-14 10:22:45.311 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - <==      Total: 1
2019-11-14 10:22:45.311 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 10:22:45.312 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 10:22:45.373 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - <==      Total: 1082
2019-11-14 10:22:45.374 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 10:22:45.374 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 10:22:45.414 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - <==      Total: 1743
2019-11-14 10:22:45.414 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 10:22:45.415 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 10:22:45.454 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - <==      Total: 1119
2019-11-14 10:22:48.221 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==>  Preparing: SELECT k.id userId, k.nickname nickname, k.username username, k.role_id roleId, k.unit_id unitId, k.role_name roleName, p.menu_code menuCode, p.permission_code permissionCode FROM(select a.*,substring_index(substring_index(a.permission_ids,',',b.help_topic_id+1),',',-1) pId from (SELECT t.*,sys_role.role_name,sys_role.permission_ids FROM(SELECT u.id, u.nickname, u.username, u.role_id, u.unit_id FROM unit_profile u WHERE u.username = ? AND u.state = '1')t LEFT JOIN sys_role ON t.role_id = sys_role.id) a join mysql.help_topic b on b.help_topic_id < (length(a.permission_ids) - length(replace(a.permission_ids,',',''))+1)) k LEFT JOIN sys_permission p ON k.pId = p.id 
2019-11-14 10:22:48.222 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==> Parameters: scnu(String)
2019-11-14 10:22:48.224 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - <==      Total: 11
2019-11-14 10:22:48.317 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==>  Preparing: select * from user_profile u where u.acc_name = ? 
2019-11-14 10:22:48.318 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==> Parameters: ytang(String)
2019-11-14 10:22:48.324 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - <==      Total: 1
2019-11-14 10:22:57.769 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 10:22:57.770 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: ytang(String)
2019-11-14 10:22:57.782 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 1
2019-11-14 10:22:57.791 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 10:22:57.791 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 10:22:57.823 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 1082
2019-11-14 10:22:57.824 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 10:22:57.825 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 10:22:57.862 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 1743
2019-11-14 10:22:57.863 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 10:22:57.863 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 10:22:57.891 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 1119
2019-11-14 10:23:39.999 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 10:23:40.000 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==> Parameters: ytang(String)
2019-11-14 10:23:40.001 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - <==      Total: 1
2019-11-14 10:23:40.002 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 10:23:40.002 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 10:23:40.069 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - <==      Total: 1082
2019-11-14 10:23:40.070 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 10:23:40.071 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 10:23:40.106 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - <==      Total: 1743
2019-11-14 10:23:40.107 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 10:23:40.107 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 10:23:40.133 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - <==      Total: 1119
2019-11-14 10:24:05.709 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 10:24:05.710 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: ytang(String)
2019-11-14 10:24:05.711 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 1
2019-11-14 10:24:05.712 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: select * from scholar_paper where acc_id = ? 
2019-11-14 10:24:05.713 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: 17(Long)
2019-11-14 10:24:05.736 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 412
2019-11-14 10:24:21.364 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==>  Preparing: SELECT k.id userId, k.nickname nickname, k.username username, k.role_id roleId, k.unit_id unitId, k.role_name roleName, p.menu_code menuCode, p.permission_code permissionCode FROM(select a.*,substring_index(substring_index(a.permission_ids,',',b.help_topic_id+1),',',-1) pId from (SELECT t.*,sys_role.role_name,sys_role.permission_ids FROM(SELECT u.id, u.nickname, u.username, u.role_id, u.unit_id FROM unit_profile u WHERE u.username = ? AND u.state = '1')t LEFT JOIN sys_role ON t.role_id = sys_role.id) a join mysql.help_topic b on b.help_topic_id < (length(a.permission_ids) - length(replace(a.permission_ids,',',''))+1)) k LEFT JOIN sys_permission p ON k.pId = p.id 
2019-11-14 10:24:21.364 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==> Parameters: scnu(String)
2019-11-14 10:24:21.366 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - <==      Total: 11
2019-11-14 10:24:21.436 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==>  Preparing: select * from user_profile u where u.acc_name = ? 
2019-11-14 10:24:21.436 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==> Parameters: ytang(String)
2019-11-14 10:24:21.442 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - <==      Total: 1
2019-11-14 10:24:24.379 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 10:24:24.380 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==> Parameters: ytang(String)
2019-11-14 10:24:24.380 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - <==      Total: 1
2019-11-14 10:24:24.381 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 10:24:24.382 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 10:24:24.404 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - <==      Total: 1082
2019-11-14 10:24:24.405 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 10:24:24.405 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 10:24:24.442 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - <==      Total: 1743
2019-11-14 10:24:24.442 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 10:24:24.443 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 10:24:24.464 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - <==      Total: 1119
2019-11-14 10:24:29.774 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 10:24:29.775 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==> Parameters: ytang(String)
2019-11-14 10:24:29.776 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - <==      Total: 1
2019-11-14 10:24:29.777 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==>  Preparing: select * from scholar_paper where acc_id = ? 
2019-11-14 10:24:29.777 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==> Parameters: 17(Long)
2019-11-14 10:24:29.795 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - <==      Total: 412
2019-11-14 10:31:41.922 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==>  Preparing: SELECT k.id userId, k.nickname nickname, k.username username, k.role_id roleId, k.unit_id unitId, k.role_name roleName, p.menu_code menuCode, p.permission_code permissionCode FROM(select a.*,substring_index(substring_index(a.permission_ids,',',b.help_topic_id+1),',',-1) pId from (SELECT t.*,sys_role.role_name,sys_role.permission_ids FROM(SELECT u.id, u.nickname, u.username, u.role_id, u.unit_id FROM unit_profile u WHERE u.username = ? AND u.state = '1')t LEFT JOIN sys_role ON t.role_id = sys_role.id) a join mysql.help_topic b on b.help_topic_id < (length(a.permission_ids) - length(replace(a.permission_ids,',',''))+1)) k LEFT JOIN sys_permission p ON k.pId = p.id 
2019-11-14 10:31:41.923 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==> Parameters: scnu(String)
2019-11-14 10:31:41.925 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - <==      Total: 11
2019-11-14 10:31:42.043 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==>  Preparing: select * from user_profile u where u.acc_name = ? 
2019-11-14 10:31:42.044 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==> Parameters: ytang(String)
2019-11-14 10:31:42.051 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - <==      Total: 1
2019-11-14 10:31:43.358 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 10:31:43.358 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==> Parameters: ytang(String)
2019-11-14 10:31:43.359 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - <==      Total: 1
2019-11-14 10:31:43.360 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==>  Preparing: select * from scholar_paper where acc_id = ? 
2019-11-14 10:31:43.361 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==> Parameters: 17(Long)
2019-11-14 10:31:43.382 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - <==      Total: 412
2019-11-14 10:33:03.962 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: SELECT k.id userId, k.nickname nickname, k.username username, k.role_id roleId, k.unit_id unitId, k.role_name roleName, p.menu_code menuCode, p.permission_code permissionCode FROM(select a.*,substring_index(substring_index(a.permission_ids,',',b.help_topic_id+1),',',-1) pId from (SELECT t.*,sys_role.role_name,sys_role.permission_ids FROM(SELECT u.id, u.nickname, u.username, u.role_id, u.unit_id FROM unit_profile u WHERE u.username = ? AND u.state = '1')t LEFT JOIN sys_role ON t.role_id = sys_role.id) a join mysql.help_topic b on b.help_topic_id < (length(a.permission_ids) - length(replace(a.permission_ids,',',''))+1)) k LEFT JOIN sys_permission p ON k.pId = p.id 
2019-11-14 10:33:03.963 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: scnu(String)
2019-11-14 10:33:03.965 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 11
2019-11-14 10:33:06.702 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 10:33:06.703 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==> Parameters: ytang(String)
2019-11-14 10:33:06.704 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - <==      Total: 1
2019-11-14 10:33:06.705 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==>  Preparing: select * from scholar_paper where acc_id = ? 
2019-11-14 10:33:06.705 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==> Parameters: 17(Long)
2019-11-14 10:33:06.721 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - <==      Total: 412
2019-11-14 10:42:16.003 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 10:42:16.004 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: ytang(String)
2019-11-14 10:42:16.045 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 1
2019-11-14 10:42:16.046 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: select * from scholar_paper where acc_id = ? 
2019-11-14 10:42:16.047 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: 17(Long)
2019-11-14 10:42:16.069 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 412
2019-11-14 10:42:29.683 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 10:42:29.683 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==> Parameters: ytang(String)
2019-11-14 10:42:29.684 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - <==      Total: 1
2019-11-14 10:42:29.685 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==>  Preparing: select * from scholar_paper where acc_id = ? 
2019-11-14 10:42:29.685 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==> Parameters: 17(Long)
2019-11-14 10:42:29.705 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - <==      Total: 412
2019-11-14 11:00:53.312 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==>  Preparing: SELECT k.id userId, k.nickname nickname, k.username username, k.role_id roleId, k.unit_id unitId, k.role_name roleName, p.menu_code menuCode, p.permission_code permissionCode FROM(select a.*,substring_index(substring_index(a.permission_ids,',',b.help_topic_id+1),',',-1) pId from (SELECT t.*,sys_role.role_name,sys_role.permission_ids FROM(SELECT u.id, u.nickname, u.username, u.role_id, u.unit_id FROM unit_profile u WHERE u.username = ? AND u.state = '1')t LEFT JOIN sys_role ON t.role_id = sys_role.id) a join mysql.help_topic b on b.help_topic_id < (length(a.permission_ids) - length(replace(a.permission_ids,',',''))+1)) k LEFT JOIN sys_permission p ON k.pId = p.id 
2019-11-14 11:00:53.312 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==> Parameters: scnu(String)
2019-11-14 11:00:53.356 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - <==      Total: 11
2019-11-14 11:00:53.571 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==>  Preparing: select * from user_profile u where u.acc_name = ? 
2019-11-14 11:00:53.572 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==> Parameters: ytang(String)
2019-11-14 11:00:53.579 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - <==      Total: 1
2019-11-14 11:00:54.670 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 11:00:54.670 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==> Parameters: ytang(String)
2019-11-14 11:00:54.672 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - <==      Total: 1
2019-11-14 11:00:54.672 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==>  Preparing: select * from scholar_paper where acc_id = ? 
2019-11-14 11:00:54.673 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==> Parameters: 17(Long)
2019-11-14 11:00:54.693 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - <==      Total: 412
2019-11-14 11:05:27.661 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 11:05:27.662 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==> Parameters: ytang(String)
2019-11-14 11:05:27.663 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - <==      Total: 1
2019-11-14 11:05:27.663 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 11:05:27.664 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 11:05:27.695 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - <==      Total: 1082
2019-11-14 11:05:27.696 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 11:05:27.697 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 11:05:27.794 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - <==      Total: 1743
2019-11-14 11:05:27.794 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 11:05:27.795 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 11:05:27.851 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - <==      Total: 1119
2019-11-14 11:35:58.296 WARN  --- [HikariPool.java:766][HikariPool-1 housekeeper] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=20m30s700ms).
2019-11-14 11:51:23.153 WARN  --- [HikariPool.java:766][HikariPool-1 housekeeper] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=15m24s858ms).
2019-11-14 12:35:01.341 WARN  --- [HikariPool.java:766][HikariPool-1 housekeeper] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=43m8s177ms).
2019-11-14 12:55:32.506 WARN  --- [HikariPool.java:766][HikariPool-1 housekeeper] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=20m31s165ms).
2019-11-14 13:16:33.780 WARN  --- [HikariPool.java:766][HikariPool-1 housekeeper] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=20m31s259ms).
2019-11-14 13:37:03.223 WARN  --- [HikariPool.java:766][HikariPool-1 housekeeper] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=20m29s443ms).
2019-11-14 13:38:20.217 WARN  --- [HikariPool.java:766][HikariPool-1 housekeeper] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=46s982ms).
2019-11-14 13:41:05.175 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 13:41:05.177 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==> Parameters: ytang(String)
2019-11-14 13:41:05.181 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - <==      Total: 1
2019-11-14 13:41:05.181 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 13:41:05.182 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 13:41:05.252 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - <==      Total: 1082
2019-11-14 13:41:05.253 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 13:41:05.253 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 13:41:05.295 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - <==      Total: 1743
2019-11-14 13:41:05.296 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 13:41:05.297 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 13:41:05.342 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - <==      Total: 1119
2019-11-14 13:41:26.810 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==>  Preparing: select * from user_profile u where u.acc_name = ? 
2019-11-14 13:41:26.810 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==> Parameters: ytang(String)
2019-11-14 13:41:26.818 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - <==      Total: 1
2019-11-14 13:41:31.042 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: SELECT u.school_name schoolName, u.unit_name unitName, u.school_eng schoolEng, u.unit_eng unitEng, u.college_url collegeUrl, u.logo_url logoUrl, u.state state, u.background_url backgroundUrl FROM school_unit u WHERE u.id = ? 
2019-11-14 13:41:31.043 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: null
2019-11-14 13:41:31.045 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 0
2019-11-14 13:41:34.028 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==>  Preparing: SELECT u.school_name schoolName, u.unit_name unitName, u.school_eng schoolEng, u.unit_eng unitEng, u.college_url collegeUrl, u.logo_url logoUrl, u.state state, u.background_url backgroundUrl FROM school_unit u WHERE u.id = ? 
2019-11-14 13:41:34.028 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==> Parameters: null
2019-11-14 13:41:34.029 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - <==      Total: 0
2019-11-14 13:41:37.891 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==>  Preparing: SELECT u.user_id userId, u.username username, u.password password, u.role role FROM login u WHERE u.username = ? AND u.password = ? AND u.state = '1' AND u.role = ? 
2019-11-14 13:41:37.892 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==> Parameters: scnu(String), 1cd61bb103149a08c529c96a31effae2(String), unit(String)
2019-11-14 13:41:37.894 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - <==      Total: 1
2019-11-14 13:41:37.931 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==>  Preparing: SELECT k.id userId, k.nickname nickname, k.username username, k.role_id roleId, k.unit_id unitId, k.role_name roleName, p.menu_code menuCode, p.permission_code permissionCode FROM(select a.*,substring_index(substring_index(a.permission_ids,',',b.help_topic_id+1),',',-1) pId from (SELECT t.*,sys_role.role_name,sys_role.permission_ids FROM(SELECT u.id, u.nickname, u.username, u.role_id, u.unit_id FROM unit_profile u WHERE u.username = ? AND u.state = '1')t LEFT JOIN sys_role ON t.role_id = sys_role.id) a join mysql.help_topic b on b.help_topic_id < (length(a.permission_ids) - length(replace(a.permission_ids,',',''))+1)) k LEFT JOIN sys_permission p ON k.pId = p.id 
2019-11-14 13:41:37.931 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==> Parameters: scnu(String)
2019-11-14 13:41:37.935 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - <==      Total: 11
2019-11-14 13:41:38.205 INFO  --- [UserRealm.java:50][http-nio-8080-exec-1] - permission的值为:{"menuList":["teacher","role","user"],"roleId":1,"nickname":"asd","roleName":"高级管理员","unitId":1,"permissionList":["user:list","user:add","role:update","teacher:list","teacher:update","role:list","teacher:add","user:update","role:delete","role:add","teacher:delete"],"userId":1,"username":"scnu"}
2019-11-14 13:41:38.206 INFO  --- [UserRealm.java:51][http-nio-8080-exec-1] - 本用户权限为:[user:list, user:add, role:update, teacher:list, teacher:update, role:list, teacher:add, user:update, role:delete, role:add, teacher:delete]
2019-11-14 13:41:38.207 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==>  Preparing: SELECT count(0) FROM teacher_profile t WHERE t.state = '1' AND t.unit_id = ? 
2019-11-14 13:41:38.207 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==> Parameters: 1(Long)
2019-11-14 13:41:38.209 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - <==      Total: 1
2019-11-14 13:41:38.210 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==>  Preparing: select t.id id, t.username name, t.email email, t.avatar avatar, t.state state, t.views views, t.post post, t.scholat_username scholat_username, date_format(t.update_time, '%Y.%m.%d %T') update_time, date_format(t.create_time, '%Y.%m.%d %T') create_time FROM teacher_profile t WHERE t.unit_id = ? ORDER BY update_time desc LIMIT ?,? 
2019-11-14 13:41:38.211 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==> Parameters: 1(Long), 0(Integer), 10(Integer)
2019-11-14 13:41:38.213 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - <==      Total: 10
2019-11-14 13:41:41.710 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==>  Preparing: SELECT k.id userId, k.nickname nickname, k.username username, k.role_id roleId, k.unit_id unitId, k.role_name roleName, p.menu_code menuCode, p.permission_code permissionCode FROM(select a.*,substring_index(substring_index(a.permission_ids,',',b.help_topic_id+1),',',-1) pId from (SELECT t.*,sys_role.role_name,sys_role.permission_ids FROM(SELECT u.id, u.nickname, u.username, u.role_id, u.unit_id FROM unit_profile u WHERE u.username = ? AND u.state = '1')t LEFT JOIN sys_role ON t.role_id = sys_role.id) a join mysql.help_topic b on b.help_topic_id < (length(a.permission_ids) - length(replace(a.permission_ids,',',''))+1)) k LEFT JOIN sys_permission p ON k.pId = p.id 
2019-11-14 13:41:41.711 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==> Parameters: scnu(String)
2019-11-14 13:41:41.713 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - <==      Total: 11
2019-11-14 13:41:41.840 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==>  Preparing: SELECT u.school_name schoolName, u.unit_name unitName, u.school_eng schoolEng, u.unit_eng unitEng, u.college_url collegeUrl, u.logo_url logoUrl, u.state state, u.background_url backgroundUrl FROM school_unit u WHERE u.id = (SELECT t.unit_id FROM teacher_profile t WHERE t.id = ?) 
2019-11-14 13:41:41.841 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==> Parameters: 141(String)
2019-11-14 13:41:41.843 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - <==      Total: 1
2019-11-14 13:41:41.845 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==>  Preparing: select * from teacher_profile u where u.id=? 
2019-11-14 13:41:41.846 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==> Parameters: 141(Long)
2019-11-14 13:41:41.853 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - <==      Total: 1
2019-11-14 13:41:41.856 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: SELECT count(0) FROM teacher_profile t WHERE t.state = '1' AND t.unit_id = ? 
2019-11-14 13:41:41.856 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: 1(Long)
2019-11-14 13:41:41.859 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 1
2019-11-14 13:41:41.861 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: SELECT t.id tId, t.username tName, t.post tPost, t.avatar tAvatar, t.email tEmail, t.department_name tDepartment_name, t.work_place tWork_place, t.degree tDegree FROM teacher_profile t WHERE t.state = '1' AND t.unit_id = ? ORDER BY t.seq, update_time DESC LIMIT ?,? 
2019-11-14 13:41:41.861 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: 1(Long), 0(Integer), 15(Integer)
2019-11-14 13:41:41.869 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 15
2019-11-14 13:41:43.998 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==>  Preparing: select * from user_profile u where u.acc_name = ? 
2019-11-14 13:41:43.999 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==> Parameters: ytang(String)
2019-11-14 13:41:44.004 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - <==      Total: 1
2019-11-14 13:41:45.594 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 13:41:45.594 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: ytang(String)
2019-11-14 13:41:45.597 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 1
2019-11-14 13:41:45.597 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 13:41:45.598 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 13:41:45.624 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 1082
2019-11-14 13:41:45.624 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 13:41:45.625 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 13:41:45.665 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 1743
2019-11-14 13:41:45.666 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 13:41:45.666 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 13:41:45.690 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 1119
2019-11-14 13:45:25.736 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 13:45:25.736 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==> Parameters: ytang(String)
2019-11-14 13:45:25.737 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - <==      Total: 1
2019-11-14 13:45:25.738 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 13:45:25.738 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 13:45:25.762 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - <==      Total: 1082
2019-11-14 13:45:25.763 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 13:45:25.764 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 13:45:25.815 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - <==      Total: 1743
2019-11-14 13:45:25.816 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 13:45:25.817 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 13:45:25.934 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - <==      Total: 1119
2019-11-14 13:47:16.419 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==>  Preparing: SELECT k.id userId, k.nickname nickname, k.username username, k.role_id roleId, k.unit_id unitId, k.role_name roleName, p.menu_code menuCode, p.permission_code permissionCode FROM(select a.*,substring_index(substring_index(a.permission_ids,',',b.help_topic_id+1),',',-1) pId from (SELECT t.*,sys_role.role_name,sys_role.permission_ids FROM(SELECT u.id, u.nickname, u.username, u.role_id, u.unit_id FROM unit_profile u WHERE u.username = ? AND u.state = '1')t LEFT JOIN sys_role ON t.role_id = sys_role.id) a join mysql.help_topic b on b.help_topic_id < (length(a.permission_ids) - length(replace(a.permission_ids,',',''))+1)) k LEFT JOIN sys_permission p ON k.pId = p.id 
2019-11-14 13:47:16.420 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==> Parameters: scnu(String)
2019-11-14 13:47:16.422 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - <==      Total: 11
2019-11-14 13:47:17.362 INFO  --- [UserRealm.java:50][http-nio-8080-exec-9] - permission的值为:{"menuList":["teacher","role","user"],"roleId":1,"nickname":"asd","roleName":"高级管理员","unitId":1,"permissionList":["user:list","user:add","role:update","teacher:list","teacher:update","role:list","teacher:add","user:update","role:delete","role:add","teacher:delete"],"userId":1,"username":"scnu"}
2019-11-14 13:47:17.362 INFO  --- [UserRealm.java:51][http-nio-8080-exec-9] - 本用户权限为:[user:list, user:add, role:update, teacher:list, teacher:update, role:list, teacher:add, user:update, role:delete, role:add, teacher:delete]
2019-11-14 13:47:17.389 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==>  Preparing: SELECT count(0) FROM teacher_profile t WHERE t.state = '1' AND t.unit_id = ? 
2019-11-14 13:47:17.389 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==> Parameters: 1(Long)
2019-11-14 13:47:17.391 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - <==      Total: 1
2019-11-14 13:47:17.392 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==>  Preparing: select t.id id, t.username name, t.email email, t.avatar avatar, t.state state, t.views views, t.post post, t.scholat_username scholat_username, date_format(t.update_time, '%Y.%m.%d %T') update_time, date_format(t.create_time, '%Y.%m.%d %T') create_time FROM teacher_profile t WHERE t.unit_id = ? ORDER BY update_time desc LIMIT ?,? 
2019-11-14 13:47:17.392 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==> Parameters: 1(Long), 0(Integer), 10(Integer)
2019-11-14 13:47:17.394 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - <==      Total: 10
2019-11-14 13:47:17.701 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==>  Preparing: SELECT k.id userId, k.nickname nickname, k.username username, k.role_id roleId, k.unit_id unitId, k.role_name roleName, p.menu_code menuCode, p.permission_code permissionCode FROM(select a.*,substring_index(substring_index(a.permission_ids,',',b.help_topic_id+1),',',-1) pId from (SELECT t.*,sys_role.role_name,sys_role.permission_ids FROM(SELECT u.id, u.nickname, u.username, u.role_id, u.unit_id FROM unit_profile u WHERE u.username = ? AND u.state = '1')t LEFT JOIN sys_role ON t.role_id = sys_role.id) a join mysql.help_topic b on b.help_topic_id < (length(a.permission_ids) - length(replace(a.permission_ids,',',''))+1)) k LEFT JOIN sys_permission p ON k.pId = p.id 
2019-11-14 13:47:17.702 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==> Parameters: scnu(String)
2019-11-14 13:47:17.820 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - <==      Total: 11
2019-11-14 13:47:18.463 INFO  --- [UserRealm.java:50][http-nio-8080-exec-10] - permission的值为:{"menuList":["teacher","role","user"],"roleId":1,"nickname":"asd","roleName":"高级管理员","unitId":1,"permissionList":["user:list","user:add","role:update","teacher:list","teacher:update","role:list","teacher:add","user:update","role:delete","role:add","teacher:delete"],"userId":1,"username":"scnu"}
2019-11-14 13:47:18.464 INFO  --- [UserRealm.java:51][http-nio-8080-exec-10] - 本用户权限为:[user:list, user:add, role:update, teacher:list, teacher:update, role:list, teacher:add, user:update, role:delete, role:add, teacher:delete]
2019-11-14 13:47:18.491 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==>  Preparing: SELECT count(0) FROM teacher_profile t WHERE t.state = '1' AND t.unit_id = ? 
2019-11-14 13:47:18.492 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==> Parameters: 1(Long)
2019-11-14 13:47:18.493 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - <==      Total: 1
2019-11-14 13:47:18.494 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==>  Preparing: select t.id id, t.username name, t.email email, t.avatar avatar, t.state state, t.views views, t.post post, t.scholat_username scholat_username, date_format(t.update_time, '%Y.%m.%d %T') update_time, date_format(t.create_time, '%Y.%m.%d %T') create_time FROM teacher_profile t WHERE t.unit_id = ? ORDER BY update_time desc LIMIT ?,? 
2019-11-14 13:47:18.494 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==> Parameters: 1(Long), 0(Integer), 10(Integer)
2019-11-14 13:47:18.538 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - <==      Total: 10
2019-11-14 13:47:22.386 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==>  Preparing: SELECT k.id userId, k.nickname nickname, k.username username, k.role_id roleId, k.unit_id unitId, k.role_name roleName, p.menu_code menuCode, p.permission_code permissionCode FROM(select a.*,substring_index(substring_index(a.permission_ids,',',b.help_topic_id+1),',',-1) pId from (SELECT t.*,sys_role.role_name,sys_role.permission_ids FROM(SELECT u.id, u.nickname, u.username, u.role_id, u.unit_id FROM unit_profile u WHERE u.username = ? AND u.state = '1')t LEFT JOIN sys_role ON t.role_id = sys_role.id) a join mysql.help_topic b on b.help_topic_id < (length(a.permission_ids) - length(replace(a.permission_ids,',',''))+1)) k LEFT JOIN sys_permission p ON k.pId = p.id 
2019-11-14 13:47:22.387 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==> Parameters: scnu(String)
2019-11-14 13:47:22.393 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - <==      Total: 11
2019-11-14 13:47:22.821 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==>  Preparing: SELECT k.id userId, k.nickname nickname, k.username username, k.role_id roleId, k.unit_id unitId, k.role_name roleName, p.menu_code menuCode, p.permission_code permissionCode FROM(select a.*,substring_index(substring_index(a.permission_ids,',',b.help_topic_id+1),',',-1) pId from (SELECT t.*,sys_role.role_name,sys_role.permission_ids FROM(SELECT u.id, u.nickname, u.username, u.role_id, u.unit_id FROM unit_profile u WHERE u.username = ? AND u.state = '1')t LEFT JOIN sys_role ON t.role_id = sys_role.id) a join mysql.help_topic b on b.help_topic_id < (length(a.permission_ids) - length(replace(a.permission_ids,',',''))+1)) k LEFT JOIN sys_permission p ON k.pId = p.id 
2019-11-14 13:47:22.821 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==> Parameters: scnu(String)
2019-11-14 13:47:22.823 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - <==      Total: 11
2019-11-14 13:47:23.058 INFO  --- [UserRealm.java:50][http-nio-8080-exec-4] - permission的值为:{"menuList":["teacher","role","user"],"roleId":1,"nickname":"asd","roleName":"高级管理员","unitId":1,"permissionList":["user:list","user:add","role:update","teacher:list","teacher:update","role:list","teacher:add","user:update","role:delete","role:add","teacher:delete"],"userId":1,"username":"scnu"}
2019-11-14 13:47:23.059 INFO  --- [UserRealm.java:51][http-nio-8080-exec-4] - 本用户权限为:[user:list, user:add, role:update, teacher:list, teacher:update, role:list, teacher:add, user:update, role:delete, role:add, teacher:delete]
2019-11-14 13:47:23.062 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: SELECT count(0) FROM teacher_profile t WHERE t.state = '1' AND t.unit_id = ? 
2019-11-14 13:47:23.062 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: 1(Long)
2019-11-14 13:47:23.077 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 1
2019-11-14 13:47:23.078 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: select t.id id, t.username name, t.email email, t.avatar avatar, t.state state, t.views views, t.post post, t.scholat_username scholat_username, date_format(t.update_time, '%Y.%m.%d %T') update_time, date_format(t.create_time, '%Y.%m.%d %T') create_time FROM teacher_profile t WHERE t.unit_id = ? ORDER BY update_time desc LIMIT ?,? 
2019-11-14 13:47:23.079 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: 1(Long), 0(Integer), 10(Integer)
2019-11-14 13:47:23.146 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 10
2019-11-14 13:47:23.603 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==>  Preparing: select * from user_profile u where u.acc_name = ? 
2019-11-14 13:47:23.604 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==> Parameters: ytang(String)
2019-11-14 13:47:23.641 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - <==      Total: 1
2019-11-14 13:47:38.387 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 13:47:38.388 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: ytang(String)
2019-11-14 13:47:38.392 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 1
2019-11-14 13:47:38.393 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 13:47:38.393 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 13:47:38.488 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 1082
2019-11-14 13:47:38.489 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 13:47:38.490 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 13:47:38.652 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 1743
2019-11-14 13:47:38.653 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 13:47:38.654 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 13:47:38.742 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 1119
2019-11-14 13:49:12.531 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==>  Preparing: SELECT k.id userId, k.nickname nickname, k.username username, k.role_id roleId, k.unit_id unitId, k.role_name roleName, p.menu_code menuCode, p.permission_code permissionCode FROM(select a.*,substring_index(substring_index(a.permission_ids,',',b.help_topic_id+1),',',-1) pId from (SELECT t.*,sys_role.role_name,sys_role.permission_ids FROM(SELECT u.id, u.nickname, u.username, u.role_id, u.unit_id FROM unit_profile u WHERE u.username = ? AND u.state = '1')t LEFT JOIN sys_role ON t.role_id = sys_role.id) a join mysql.help_topic b on b.help_topic_id < (length(a.permission_ids) - length(replace(a.permission_ids,',',''))+1)) k LEFT JOIN sys_permission p ON k.pId = p.id 
2019-11-14 13:49:12.532 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==> Parameters: scnu(String)
2019-11-14 13:49:12.534 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - <==      Total: 11
2019-11-14 13:49:12.640 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==>  Preparing: select * from user_profile u where u.acc_name = ? 
2019-11-14 13:49:12.640 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==> Parameters: ytang(String)
2019-11-14 13:49:12.651 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - <==      Total: 1
2019-11-14 13:49:29.005 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 13:49:29.006 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==> Parameters: ytang(String)
2019-11-14 13:49:29.007 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - <==      Total: 1
2019-11-14 13:49:29.007 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 13:49:29.008 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 13:49:29.048 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - <==      Total: 1082
2019-11-14 13:49:29.049 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 13:49:29.049 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 13:49:29.243 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - <==      Total: 1743
2019-11-14 13:49:29.244 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 13:49:29.245 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 13:49:29.320 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - <==      Total: 1119
2019-11-14 13:49:51.980 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==>  Preparing: select * from user_profile u where u.acc_name = ? 
2019-11-14 13:49:51.980 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==> Parameters: ytang(String)
2019-11-14 13:49:51.989 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - <==      Total: 1
2019-11-14 13:50:44.588 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==>  Preparing: SELECT k.id userId, k.nickname nickname, k.username username, k.role_id roleId, k.unit_id unitId, k.role_name roleName, p.menu_code menuCode, p.permission_code permissionCode FROM(select a.*,substring_index(substring_index(a.permission_ids,',',b.help_topic_id+1),',',-1) pId from (SELECT t.*,sys_role.role_name,sys_role.permission_ids FROM(SELECT u.id, u.nickname, u.username, u.role_id, u.unit_id FROM unit_profile u WHERE u.username = ? AND u.state = '1')t LEFT JOIN sys_role ON t.role_id = sys_role.id) a join mysql.help_topic b on b.help_topic_id < (length(a.permission_ids) - length(replace(a.permission_ids,',',''))+1)) k LEFT JOIN sys_permission p ON k.pId = p.id 
2019-11-14 13:50:44.589 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==> Parameters: scnu(String)
2019-11-14 13:50:44.590 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - <==      Total: 11
2019-11-14 13:50:44.734 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==>  Preparing: select * from user_profile u where u.acc_name = ? 
2019-11-14 13:50:44.735 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==> Parameters: ytang(String)
2019-11-14 13:50:44.795 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - <==      Total: 1
2019-11-14 13:50:46.946 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 13:50:46.947 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==> Parameters: ytang(String)
2019-11-14 13:50:46.967 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - <==      Total: 1
2019-11-14 13:50:46.968 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 13:50:46.969 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 13:50:47.047 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - <==      Total: 1082
2019-11-14 13:50:47.050 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 13:50:47.051 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 13:50:47.442 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - <==      Total: 1743
2019-11-14 13:50:47.443 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 13:50:47.445 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 13:50:47.661 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - <==      Total: 1119
2019-11-14 13:52:13.938 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 13:52:13.940 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: ytang(String)
2019-11-14 13:52:13.941 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 1
2019-11-14 13:52:13.942 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 13:52:13.943 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 13:52:14.027 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 1082
2019-11-14 13:52:14.028 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 13:52:14.029 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 13:52:14.150 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 1743
2019-11-14 13:52:14.152 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 13:52:14.153 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 13:52:14.209 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 1119
2019-11-14 13:52:28.609 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==>  Preparing: select * from user_profile u where u.acc_name = ? 
2019-11-14 13:52:28.610 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==> Parameters: ytang(String)
2019-11-14 13:52:28.647 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - <==      Total: 1
2019-11-14 13:52:31.159 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 13:52:31.160 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: ytang(String)
2019-11-14 13:52:31.161 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 1
2019-11-14 13:52:31.162 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 13:52:31.162 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 13:52:31.190 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 1082
2019-11-14 13:52:31.191 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 13:52:31.191 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 13:52:31.230 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 1743
2019-11-14 13:52:31.231 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 13:52:31.231 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 13:52:31.256 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 1119
2019-11-14 13:53:01.925 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 13:53:01.925 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==> Parameters: ytang(String)
2019-11-14 13:53:01.927 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - <==      Total: 1
2019-11-14 13:53:01.928 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 13:53:01.928 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 13:53:01.955 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - <==      Total: 1082
2019-11-14 13:53:01.955 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 13:53:01.956 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 13:53:01.999 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - <==      Total: 1743
2019-11-14 13:53:02.000 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 13:53:02.001 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 13:53:02.031 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - <==      Total: 1119
2019-11-14 13:53:06.117 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==>  Preparing: SELECT k.id userId, k.nickname nickname, k.username username, k.role_id roleId, k.unit_id unitId, k.role_name roleName, p.menu_code menuCode, p.permission_code permissionCode FROM(select a.*,substring_index(substring_index(a.permission_ids,',',b.help_topic_id+1),',',-1) pId from (SELECT t.*,sys_role.role_name,sys_role.permission_ids FROM(SELECT u.id, u.nickname, u.username, u.role_id, u.unit_id FROM unit_profile u WHERE u.username = ? AND u.state = '1')t LEFT JOIN sys_role ON t.role_id = sys_role.id) a join mysql.help_topic b on b.help_topic_id < (length(a.permission_ids) - length(replace(a.permission_ids,',',''))+1)) k LEFT JOIN sys_permission p ON k.pId = p.id 
2019-11-14 13:53:06.118 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==> Parameters: scnu(String)
2019-11-14 13:53:06.119 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - <==      Total: 11
2019-11-14 13:53:06.710 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==>  Preparing: select * from user_profile u where u.acc_name = ? 
2019-11-14 13:53:06.710 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==> Parameters: ytang(String)
2019-11-14 13:53:06.718 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - <==      Total: 1
2019-11-14 13:53:33.154 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 13:53:33.155 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==> Parameters: ytang(String)
2019-11-14 13:53:33.216 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - <==      Total: 1
2019-11-14 13:53:33.217 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 13:53:33.217 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 13:53:33.418 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - <==      Total: 1082
2019-11-14 13:53:33.420 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 13:53:33.421 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 13:53:34.023 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - <==      Total: 1743
2019-11-14 13:53:34.025 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 13:53:34.026 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 13:53:34.059 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - <==      Total: 1119
2019-11-14 13:55:17.805 INFO  --- [HikariDataSource.java:350][Thread-22] - HikariPool-1 - Shutdown initiated...
2019-11-14 13:55:17.818 INFO  --- [HikariDataSource.java:352][Thread-22] - HikariPool-1 - Shutdown completed.
2019-11-14 22:09:02.285 INFO  --- [StartupInfoLogger.java:50][restartedMain] - Starting MyApplication on AchunOrigin-2.local with PID 3916 (/Users/achunorigin/project/A_Postgraduate/persona-teacher/persona-teacherHome-back/target/classes started by achunorigin in /Users/achunorigin/project/A_Postgraduate/persona-teacher/persona-teacherHome-back)
2019-11-14 22:09:02.289 INFO  --- [SpringApplication.java:675][restartedMain] - No active profile set, falling back to default profiles: default
2019-11-14 22:09:05.627 INFO  --- [StartupInfoLogger.java:59][restartedMain] - Started MyApplication in 3.826 seconds (JVM running for 4.907)
2019-11-14 22:09:18.450 INFO  --- [HikariDataSource.java:110][http-nio-8080-exec-1] - HikariPool-1 - Starting...
2019-11-14 22:09:18.940 INFO  --- [HikariDataSource.java:123][http-nio-8080-exec-1] - HikariPool-1 - Start completed.
2019-11-14 22:09:18.950 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==>  Preparing: SELECT u.user_id userId, u.username username, u.password password, u.role role FROM login u WHERE u.username = ? AND u.password = ? AND u.state = '1' AND u.role = ? 
2019-11-14 22:09:18.982 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==> Parameters: scnu(String), 1cd61bb103149a08c529c96a31effae2(String), unit(String)
2019-11-14 22:09:19.071 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - <==      Total: 1
2019-11-14 22:09:19.232 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==>  Preparing: SELECT k.id userId, k.nickname nickname, k.username username, k.role_id roleId, k.unit_id unitId, k.role_name roleName, p.menu_code menuCode, p.permission_code permissionCode FROM(select a.*,substring_index(substring_index(a.permission_ids,',',b.help_topic_id+1),',',-1) pId from (SELECT t.*,sys_role.role_name,sys_role.permission_ids FROM(SELECT u.id, u.nickname, u.username, u.role_id, u.unit_id FROM unit_profile u WHERE u.username = ? AND u.state = '1')t LEFT JOIN sys_role ON t.role_id = sys_role.id) a join mysql.help_topic b on b.help_topic_id < (length(a.permission_ids) - length(replace(a.permission_ids,',',''))+1)) k LEFT JOIN sys_permission p ON k.pId = p.id 
2019-11-14 22:09:19.232 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==> Parameters: scnu(String)
2019-11-14 22:09:19.305 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - <==      Total: 11
2019-11-14 22:09:19.577 INFO  --- [UserRealm.java:50][http-nio-8080-exec-3] - permission的值为:{"menuList":["teacher","role","user"],"roleId":1,"nickname":"asd","roleName":"高级管理员","unitId":1,"permissionList":["user:list","user:add","role:update","teacher:list","teacher:update","role:list","teacher:add","user:update","role:delete","role:add","teacher:delete"],"userId":1,"username":"scnu"}
2019-11-14 22:09:19.577 INFO  --- [UserRealm.java:51][http-nio-8080-exec-3] - 本用户权限为:[user:list, user:add, role:update, teacher:list, teacher:update, role:list, teacher:add, user:update, role:delete, role:add, teacher:delete]
2019-11-14 22:09:19.616 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==>  Preparing: SELECT count(0) FROM teacher_profile t WHERE t.state = '1' AND t.unit_id = ? 
2019-11-14 22:09:19.618 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==> Parameters: 1(Long)
2019-11-14 22:09:19.671 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - <==      Total: 1
2019-11-14 22:09:19.672 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==>  Preparing: select t.id id, t.username name, t.email email, t.avatar avatar, t.state state, t.views views, t.post post, t.scholat_username scholat_username, date_format(t.update_time, '%Y.%m.%d %T') update_time, date_format(t.create_time, '%Y.%m.%d %T') create_time FROM teacher_profile t WHERE t.unit_id = ? ORDER BY update_time desc LIMIT ?,? 
2019-11-14 22:09:19.673 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==> Parameters: 1(Long), 0(Integer), 10(Integer)
2019-11-14 22:09:19.678 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - <==      Total: 10
2019-11-14 22:09:25.348 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: SELECT k.id userId, k.nickname nickname, k.username username, k.role_id roleId, k.unit_id unitId, k.role_name roleName, p.menu_code menuCode, p.permission_code permissionCode FROM(select a.*,substring_index(substring_index(a.permission_ids,',',b.help_topic_id+1),',',-1) pId from (SELECT t.*,sys_role.role_name,sys_role.permission_ids FROM(SELECT u.id, u.nickname, u.username, u.role_id, u.unit_id FROM unit_profile u WHERE u.username = ? AND u.state = '1')t LEFT JOIN sys_role ON t.role_id = sys_role.id) a join mysql.help_topic b on b.help_topic_id < (length(a.permission_ids) - length(replace(a.permission_ids,',',''))+1)) k LEFT JOIN sys_permission p ON k.pId = p.id 
2019-11-14 22:09:25.349 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: scnu(String)
2019-11-14 22:09:25.355 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 11
2019-11-14 22:09:25.470 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==>  Preparing: SELECT u.school_name schoolName, u.unit_name unitName, u.school_eng schoolEng, u.unit_eng unitEng, u.college_url collegeUrl, u.logo_url logoUrl, u.state state, u.background_url backgroundUrl FROM school_unit u WHERE u.id = (SELECT t.unit_id FROM teacher_profile t WHERE t.id = ?) 
2019-11-14 22:09:25.471 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==> Parameters: 141(String)
2019-11-14 22:09:25.479 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==>  Preparing: SELECT count(0) FROM teacher_profile t WHERE t.state = '1' AND t.unit_id = ? 
2019-11-14 22:09:25.480 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==> Parameters: 1(Long)
2019-11-14 22:09:25.483 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - <==      Total: 1
2019-11-14 22:09:25.486 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==>  Preparing: SELECT t.id tId, t.username tName, t.post tPost, t.avatar tAvatar, t.email tEmail, t.department_name tDepartment_name, t.work_place tWork_place, t.degree tDegree FROM teacher_profile t WHERE t.state = '1' AND t.unit_id = ? ORDER BY t.seq, update_time DESC LIMIT ?,? 
2019-11-14 22:09:25.487 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==> Parameters: 1(Long), 0(Integer), 15(Integer)
2019-11-14 22:09:25.494 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: select * from teacher_profile u where u.id=? 
2019-11-14 22:09:25.495 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: 141(Long)
2019-11-14 22:09:25.575 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - <==      Total: 15
2019-11-14 22:09:25.603 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 1
2019-11-14 22:09:25.678 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - <==      Total: 1
2019-11-14 22:09:28.520 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==>  Preparing: select * from user_profile u where u.acc_name = ? 
2019-11-14 22:09:28.521 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==> Parameters: ytang(String)
2019-11-14 22:09:28.583 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - <==      Total: 1
2019-11-14 22:09:30.353 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 22:09:30.354 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==> Parameters: ytang(String)
2019-11-14 22:09:30.363 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - <==      Total: 1
2019-11-14 22:09:30.365 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 22:09:30.365 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 22:09:30.718 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - <==      Total: 1082
2019-11-14 22:09:30.719 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 22:09:30.719 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 22:09:31.268 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - <==      Total: 1743
2019-11-14 22:09:31.269 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 22:09:31.270 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 22:09:31.322 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - <==      Total: 1119
2019-11-14 22:10:04.938 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==>  Preparing: select * from user_profile u where u.acc_name = ? 
2019-11-14 22:10:04.939 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==> Parameters: ytang(String)
2019-11-14 22:10:04.945 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - <==      Total: 1
2019-11-14 22:10:06.776 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 22:10:06.778 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==> Parameters: ytang(String)
2019-11-14 22:10:06.783 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - <==      Total: 1
2019-11-14 22:10:06.786 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 22:10:06.787 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 22:10:06.853 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - <==      Total: 1082
2019-11-14 22:10:06.854 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 22:10:06.857 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 22:10:06.955 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - <==      Total: 1743
2019-11-14 22:10:06.957 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 22:10:06.958 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 22:10:06.994 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - <==      Total: 1119
2019-11-14 22:10:11.243 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 22:10:11.244 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==> Parameters: ytang(String)
2019-11-14 22:10:11.245 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - <==      Total: 1
2019-11-14 22:10:11.246 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==>  Preparing: select * from scholar_paper where acc_id = ? 
2019-11-14 22:10:11.247 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==> Parameters: 17(Long)
2019-11-14 22:10:11.339 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - <==      Total: 412
2019-11-14 22:10:22.962 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==>  Preparing: select * from user_profile u where u.acc_name = ? 
2019-11-14 22:10:22.963 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==> Parameters: ytang(String)
2019-11-14 22:10:22.968 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - <==      Total: 1
2019-11-14 22:10:25.846 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 22:10:25.847 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: ytang(String)
2019-11-14 22:10:25.848 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 1
2019-11-14 22:10:25.849 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 22:10:25.850 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 22:10:25.873 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 1082
2019-11-14 22:10:25.874 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 22:10:25.874 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 22:10:25.913 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 1743
2019-11-14 22:10:25.914 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 22:10:25.914 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 22:10:25.946 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 1119
2019-11-14 22:10:55.318 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==>  Preparing: select * from user_profile u where u.acc_name = ? 
2019-11-14 22:10:55.319 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==> Parameters: ytang(String)
2019-11-14 22:10:55.324 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - <==      Total: 1
2019-11-14 22:11:39.842 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 22:11:39.843 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: ytang(String)
2019-11-14 22:11:39.848 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 1
2019-11-14 22:11:39.849 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 22:11:39.850 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 22:11:39.926 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 1082
2019-11-14 22:11:39.927 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 22:11:39.929 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 22:11:39.968 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 1743
2019-11-14 22:11:39.969 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 22:11:39.970 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 22:11:39.992 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 1119
2019-11-14 22:13:40.403 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==>  Preparing: SELECT u.user_id userId, u.username username, u.password password, u.role role FROM login u WHERE u.username = ? AND u.password = ? AND u.state = '1' AND u.role = ? 
2019-11-14 22:13:40.404 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==> Parameters: scnu(String), 1cd61bb103149a08c529c96a31effae2(String), unit(String)
2019-11-14 22:13:40.406 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - <==      Total: 1
2019-11-14 22:13:40.437 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==>  Preparing: SELECT k.id userId, k.nickname nickname, k.username username, k.role_id roleId, k.unit_id unitId, k.role_name roleName, p.menu_code menuCode, p.permission_code permissionCode FROM(select a.*,substring_index(substring_index(a.permission_ids,',',b.help_topic_id+1),',',-1) pId from (SELECT t.*,sys_role.role_name,sys_role.permission_ids FROM(SELECT u.id, u.nickname, u.username, u.role_id, u.unit_id FROM unit_profile u WHERE u.username = ? AND u.state = '1')t LEFT JOIN sys_role ON t.role_id = sys_role.id) a join mysql.help_topic b on b.help_topic_id < (length(a.permission_ids) - length(replace(a.permission_ids,',',''))+1)) k LEFT JOIN sys_permission p ON k.pId = p.id 
2019-11-14 22:13:40.437 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==> Parameters: scnu(String)
2019-11-14 22:13:40.440 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - <==      Total: 11
2019-11-14 22:13:40.639 INFO  --- [UserRealm.java:50][http-nio-8080-exec-9] - permission的值为:{"menuList":["teacher","role","user"],"roleId":1,"nickname":"asd","roleName":"高级管理员","unitId":1,"permissionList":["user:list","user:add","role:update","teacher:list","teacher:update","role:list","teacher:add","user:update","role:delete","role:add","teacher:delete"],"userId":1,"username":"scnu"}
2019-11-14 22:13:40.639 INFO  --- [UserRealm.java:51][http-nio-8080-exec-9] - 本用户权限为:[user:list, user:add, role:update, teacher:list, teacher:update, role:list, teacher:add, user:update, role:delete, role:add, teacher:delete]
2019-11-14 22:13:40.640 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==>  Preparing: SELECT count(0) FROM teacher_profile t WHERE t.state = '1' AND t.unit_id = ? 
2019-11-14 22:13:40.640 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==> Parameters: 1(Long)
2019-11-14 22:13:40.641 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - <==      Total: 1
2019-11-14 22:13:40.642 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==>  Preparing: select t.id id, t.username name, t.email email, t.avatar avatar, t.state state, t.views views, t.post post, t.scholat_username scholat_username, date_format(t.update_time, '%Y.%m.%d %T') update_time, date_format(t.create_time, '%Y.%m.%d %T') create_time FROM teacher_profile t WHERE t.unit_id = ? ORDER BY update_time desc LIMIT ?,? 
2019-11-14 22:13:40.643 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==> Parameters: 1(Long), 0(Integer), 10(Integer)
2019-11-14 22:13:40.644 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - <==      Total: 10
2019-11-14 22:13:43.358 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==>  Preparing: SELECT k.id userId, k.nickname nickname, k.username username, k.role_id roleId, k.unit_id unitId, k.role_name roleName, p.menu_code menuCode, p.permission_code permissionCode FROM(select a.*,substring_index(substring_index(a.permission_ids,',',b.help_topic_id+1),',',-1) pId from (SELECT t.*,sys_role.role_name,sys_role.permission_ids FROM(SELECT u.id, u.nickname, u.username, u.role_id, u.unit_id FROM unit_profile u WHERE u.username = ? AND u.state = '1')t LEFT JOIN sys_role ON t.role_id = sys_role.id) a join mysql.help_topic b on b.help_topic_id < (length(a.permission_ids) - length(replace(a.permission_ids,',',''))+1)) k LEFT JOIN sys_permission p ON k.pId = p.id 
2019-11-14 22:13:43.359 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==> Parameters: scnu(String)
2019-11-14 22:13:43.362 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - <==      Total: 11
2019-11-14 22:13:43.442 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==>  Preparing: SELECT u.school_name schoolName, u.unit_name unitName, u.school_eng schoolEng, u.unit_eng unitEng, u.college_url collegeUrl, u.logo_url logoUrl, u.state state, u.background_url backgroundUrl FROM school_unit u WHERE u.id = (SELECT t.unit_id FROM teacher_profile t WHERE t.id = ?) 
2019-11-14 22:13:43.443 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==> Parameters: 141(String)
2019-11-14 22:13:43.450 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==>  Preparing: SELECT count(0) FROM teacher_profile t WHERE t.state = '1' AND t.unit_id = ? 
2019-11-14 22:13:43.451 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==> Parameters: 1(Long)
2019-11-14 22:13:43.453 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - <==      Total: 1
2019-11-14 22:13:43.453 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - <==      Total: 1
2019-11-14 22:13:43.453 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==>  Preparing: select * from teacher_profile u where u.id=? 
2019-11-14 22:13:43.453 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==> Parameters: 141(Long)
2019-11-14 22:13:43.454 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==>  Preparing: SELECT t.id tId, t.username tName, t.post tPost, t.avatar tAvatar, t.email tEmail, t.department_name tDepartment_name, t.work_place tWork_place, t.degree tDegree FROM teacher_profile t WHERE t.state = '1' AND t.unit_id = ? ORDER BY t.seq, update_time DESC LIMIT ?,? 
2019-11-14 22:13:43.454 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==> Parameters: 1(Long), 0(Integer), 15(Integer)
2019-11-14 22:13:43.456 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - <==      Total: 1
2019-11-14 22:13:43.460 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - <==      Total: 15
2019-11-14 22:13:45.381 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: select * from user_profile u where u.acc_name = ? 
2019-11-14 22:13:45.382 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: ytang(String)
2019-11-14 22:13:45.387 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 1
2019-11-14 22:13:50.370 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 22:13:50.370 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==> Parameters: ytang(String)
2019-11-14 22:13:50.372 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - <==      Total: 1
2019-11-14 22:13:50.373 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 22:13:50.374 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 22:13:50.422 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - <==      Total: 1082
2019-11-14 22:13:50.423 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 22:13:50.424 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 22:13:50.459 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - <==      Total: 1743
2019-11-14 22:13:50.460 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 22:13:50.461 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 22:13:50.480 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-7] - <==      Total: 1119
2019-11-14 22:25:32.424 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==>  Preparing: SELECT u.user_id userId, u.username username, u.password password, u.role role FROM login u WHERE u.username = ? AND u.password = ? AND u.state = '1' AND u.role = ? 
2019-11-14 22:25:32.425 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - ==> Parameters: scnu(String), 1cd61bb103149a08c529c96a31effae2(String), unit(String)
2019-11-14 22:25:32.427 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-6] - <==      Total: 1
2019-11-14 22:25:32.461 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==>  Preparing: SELECT k.id userId, k.nickname nickname, k.username username, k.role_id roleId, k.unit_id unitId, k.role_name roleName, p.menu_code menuCode, p.permission_code permissionCode FROM(select a.*,substring_index(substring_index(a.permission_ids,',',b.help_topic_id+1),',',-1) pId from (SELECT t.*,sys_role.role_name,sys_role.permission_ids FROM(SELECT u.id, u.nickname, u.username, u.role_id, u.unit_id FROM unit_profile u WHERE u.username = ? AND u.state = '1')t LEFT JOIN sys_role ON t.role_id = sys_role.id) a join mysql.help_topic b on b.help_topic_id < (length(a.permission_ids) - length(replace(a.permission_ids,',',''))+1)) k LEFT JOIN sys_permission p ON k.pId = p.id 
2019-11-14 22:25:32.462 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - ==> Parameters: scnu(String)
2019-11-14 22:25:32.464 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-5] - <==      Total: 11
2019-11-14 22:25:32.667 INFO  --- [UserRealm.java:50][http-nio-8080-exec-8] - permission的值为:{"menuList":["teacher","role","user"],"roleId":1,"nickname":"asd","roleName":"高级管理员","unitId":1,"permissionList":["user:list","user:add","role:update","teacher:list","teacher:update","role:list","teacher:add","user:update","role:delete","role:add","teacher:delete"],"userId":1,"username":"scnu"}
2019-11-14 22:25:32.667 INFO  --- [UserRealm.java:51][http-nio-8080-exec-8] - 本用户权限为:[user:list, user:add, role:update, teacher:list, teacher:update, role:list, teacher:add, user:update, role:delete, role:add, teacher:delete]
2019-11-14 22:25:32.668 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==>  Preparing: SELECT count(0) FROM teacher_profile t WHERE t.state = '1' AND t.unit_id = ? 
2019-11-14 22:25:32.668 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==> Parameters: 1(Long)
2019-11-14 22:25:32.669 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - <==      Total: 1
2019-11-14 22:25:32.670 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==>  Preparing: select t.id id, t.username name, t.email email, t.avatar avatar, t.state state, t.views views, t.post post, t.scholat_username scholat_username, date_format(t.update_time, '%Y.%m.%d %T') update_time, date_format(t.create_time, '%Y.%m.%d %T') create_time FROM teacher_profile t WHERE t.unit_id = ? ORDER BY update_time desc LIMIT ?,? 
2019-11-14 22:25:32.671 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - ==> Parameters: 1(Long), 0(Integer), 10(Integer)
2019-11-14 22:25:32.673 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-8] - <==      Total: 10
2019-11-14 22:25:43.941 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==>  Preparing: SELECT k.id userId, k.nickname nickname, k.username username, k.role_id roleId, k.unit_id unitId, k.role_name roleName, p.menu_code menuCode, p.permission_code permissionCode FROM(select a.*,substring_index(substring_index(a.permission_ids,',',b.help_topic_id+1),',',-1) pId from (SELECT t.*,sys_role.role_name,sys_role.permission_ids FROM(SELECT u.id, u.nickname, u.username, u.role_id, u.unit_id FROM unit_profile u WHERE u.username = ? AND u.state = '1')t LEFT JOIN sys_role ON t.role_id = sys_role.id) a join mysql.help_topic b on b.help_topic_id < (length(a.permission_ids) - length(replace(a.permission_ids,',',''))+1)) k LEFT JOIN sys_permission p ON k.pId = p.id 
2019-11-14 22:25:43.942 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - ==> Parameters: scnu(String)
2019-11-14 22:25:43.944 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-9] - <==      Total: 11
2019-11-14 22:25:44.062 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==>  Preparing: SELECT count(0) FROM teacher_profile t WHERE t.state = '1' AND t.unit_id = ? 
2019-11-14 22:25:44.062 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==> Parameters: 1(Long)
2019-11-14 22:25:44.070 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==>  Preparing: SELECT u.school_name schoolName, u.unit_name unitName, u.school_eng schoolEng, u.unit_eng unitEng, u.college_url collegeUrl, u.logo_url logoUrl, u.state state, u.background_url backgroundUrl FROM school_unit u WHERE u.id = (SELECT t.unit_id FROM teacher_profile t WHERE t.id = ?) 
2019-11-14 22:25:44.071 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - <==      Total: 1
2019-11-14 22:25:44.071 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - ==> Parameters: 141(String)
2019-11-14 22:25:44.071 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==>  Preparing: select * from teacher_profile u where u.id=? 
2019-11-14 22:25:44.071 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - ==> Parameters: 141(Long)
2019-11-14 22:25:44.071 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==>  Preparing: SELECT t.id tId, t.username tName, t.post tPost, t.avatar tAvatar, t.email tEmail, t.department_name tDepartment_name, t.work_place tWork_place, t.degree tDegree FROM teacher_profile t WHERE t.state = '1' AND t.unit_id = ? ORDER BY t.seq, update_time DESC LIMIT ?,? 
2019-11-14 22:25:44.072 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - ==> Parameters: 1(Long), 0(Integer), 15(Integer)
2019-11-14 22:25:44.072 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-10] - <==      Total: 1
2019-11-14 22:25:44.073 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-3] - <==      Total: 1
2019-11-14 22:25:44.074 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-1] - <==      Total: 15
2019-11-14 22:25:45.869 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==>  Preparing: select * from user_profile u where u.acc_name = ? 
2019-11-14 22:25:45.869 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - ==> Parameters: ytang(String)
2019-11-14 22:25:45.873 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-2] - <==      Total: 1
2019-11-14 22:25:47.864 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: select acc_id from user_profile where acc_name = ? 
2019-11-14 22:25:47.865 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: ytang(String)
2019-11-14 22:25:47.893 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 1
2019-11-14 22:25:47.894 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 friends from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ?) as a on a.friends = u.acc_id 
2019-11-14 22:25:47.895 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: 17(Long), 17(Long)
2019-11-14 22:25:48.063 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 1082
2019-11-14 22:25:48.066 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT sender fans from pending_request where receiver=? ) as a on a.fans = u.acc_id 
2019-11-14 22:25:48.068 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 22:25:48.229 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 1743
2019-11-14 22:25:48.230 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==>  Preparing: select u.acc_name scholat_username, u.chinese_name chinese_name, u.degree degree, u.work_unit work_unit, u.address address, u.scholar_title scholat_title, u.scholar_field scholat_field, u.picture_url picture_url, u.work_email email from user_profile u join (select user2 fans from friends_relation where user1 = ? union select user1 from friends_relation where user2 = ? union SELECT receiver fans from pending_request where sender=? ) as a on a.fans = u.acc_id 
2019-11-14 22:25:48.249 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - ==> Parameters: 17(Long), 17(Long), 17(Long)
2019-11-14 22:25:48.379 DEBUG --- [BaseJdbcLogger.java:159][http-nio-8080-exec-4] - <==      Total: 1119
2019-11-14 23:02:54.008 WARN  --- [HikariPool.java:766][HikariPool-1 housekeeper] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m34s701ms).
2019-11-14 23:32:37.177 WARN  --- [HikariPool.java:766][HikariPool-1 housekeeper] - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=29m43s169ms).
